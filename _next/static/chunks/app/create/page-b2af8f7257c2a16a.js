(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{18159:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>i,ZB:()=>l,Zp:()=>o,aR:()=>c});var s=a(73365),n=a(1521),r=a(14130);let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...n})});o.displayName="Card";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});c.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight",a),...n})});l.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})}).displayName="CardDescription";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...n})});i.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},35049:(e,t,a)=>{"use strict";a.d(t,{bq:()=>p,eb:()=>x,gC:()=>h,l6:()=>d,yv:()=>u});var s=a(73365),n=a(1521),r=a(78548),o=a(62446),c=a(77811),l=a(41e3),i=a(14130);let d=r.bL;r.YJ;let u=r.WT,p=n.forwardRef((e,t)=>{let{className:a,children:n,...c}=e;return(0,s.jsxs)(r.l9,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[n,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=r.l9.displayName;let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(c.A,{className:"h-4 w-4"})})});m.displayName=r.PP.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});f.displayName=r.wn.displayName;let h=n.forwardRef((e,t)=>{let{className:a,children:n,position:o="popper",...c}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...c,children:[(0,s.jsx)(m,{}),(0,s.jsx)(r.LM,{className:(0,i.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,s.jsx)(f,{})]})})});h.displayName=r.UC.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",a),...n})}).displayName=r.JU.displayName;let x=n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,s.jsxs)(r.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:n})]})});x.displayName=r.q7.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=r.wv.displayName},45762:(e,t,a)=>{Promise.resolve().then(a.bind(a,68439)),Promise.resolve().then(a.bind(a,25903)),Promise.resolve().then(a.bind(a,55110)),Promise.resolve().then(a.bind(a,75011))},46583:(e,t,a)=>{"use strict";async function s(e,t){let a=await fetch("https://".concat(e.ip,":").concat(e.port,"/apis/apiextensions.crossplane.io/v1/compositeresourcedefinitions"),{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!a.ok)throw Error("Failed to fetch XRDs");return(await a.json()).items}async function n(e,t){let a=[];for(let r of(await s(e,t))){var n;let s=r.spec.names.kind,o=r.spec.names.plural,c=r.spec.group,l=null==(n=r.spec.versions[0])?void 0:n.name;if(!l)continue;let i=await fetch("https://".concat(e.ip,":").concat(e.port,"/apis/").concat(c,"/").concat(l,"/").concat(o),{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!i.ok)continue;let d=(await i.json()).items.map(e=>{var t;return null==(t=e.metadata)?void 0:t.name}).filter(e=>!!e).map(e=>({kind:s,group:c,version:l,plural:o,resource:e}));a.push(...d)}return a}async function r(e,t,a,s){var n,r,o;let c=a.spec.group,l=a.spec.versions[0].name,i=a.spec.names.kind,d=a.spec.names.plural,u=null!=(o=null==s||null==(n=s.metadata)?void 0:n.name)?o:null==s||null==(r=s.spec)?void 0:r.name;if(!u)throw Error("Resource name is required");let p={...(null==s?void 0:s.metadata)||{},name:u},m={apiVersion:"".concat(c,"/").concat(l),kind:i,metadata:p,...s},f=await fetch("https://".concat(e.ip,":").concat(e.port,"/apis/").concat(c,"/").concat(l,"/").concat(d),{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(m)});if(!f.ok)throw Error(await f.text())}async function o(e,t,a){let s="https://".concat(e.ip,":").concat(e.port,"/api/v1/secrets?labelSelector=").concat(a),n=await fetch(s,{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!n.ok)throw Error("Failed to fetch keys: ".concat(n.status," ").concat(n.statusText));return(await n.json()).items}async function c(e,t,a,s,n,r){let o="https://".concat(e.ip,":").concat(e.port,"/api/v1/namespaces/").concat(a,"/secrets"),c={apiVersion:"v1",kind:"Secret",metadata:{name:s,namespace:a,labels:{...r}},type:"Opaque",data:Object.entries(n).reduce((e,t)=>{let[a,s]=t;return e[a]=btoa(s),e},{})},l=await fetch(o,{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)});if(!l.ok){let e=await l.text();throw Error("Failed to create key: ".concat(l.status," ").concat(l.statusText,", ").concat(e))}}async function l(e,t,a,s){let n="https://".concat(e.ip,":").concat(e.port,"/api/v1/namespaces/").concat(a,"/secrets/").concat(s),r=await fetch(n,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!r.ok){let e=await r.text();throw Error("Failed to delete key: ".concat(r.status," ").concat(r.statusText,", ").concat(e))}}async function i(e,t,a,s){let n="https://".concat(e.ip,":").concat(e.port,"/api/v1/namespaces/").concat(a.namespace,"/secrets/").concat(a.name),r=await fetch(n,{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!r.ok){let e=await r.text();throw Error("Failed to fetch key: ".concat(r.status," ").concat(r.statusText,", ").concat(e))}let o=await r.json(),c=Object.entries(s).reduce((e,t)=>{let[a,s]=t;return e[a]=btoa(s),e},{}),l={...o,data:c},i=await fetch(n,{method:"PUT",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)});if(!i.ok){let e=await i.text();throw Error("Failed to update key: ".concat(i.status," ").concat(i.statusText,", ").concat(e))}}a.d(t,{Hy:()=>i,TH:()=>o,U2:()=>n,Zg:()=>r,cF:()=>c,wu:()=>s,yE:()=>l})},47629:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>m,L3:()=>f,c7:()=>p,lG:()=>l});var s=a(73365),n=a(1521),r=a(89752),o=a(72196),c=a(14130);let l=r.bL;r.l9;let i=r.ZL;r.bm;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.hJ,{ref:t,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});d.displayName=r.hJ.displayName;let u=n.forwardRef((e,t)=>{let{className:a,children:n,...l}=e;return(0,s.jsxs)(i,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(r.UC,{ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[n,(0,s.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.UC.displayName;let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="DialogFooter";let f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.hE,{ref:t,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});f.displayName=r.hE.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.VY,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a),...n})}).displayName=r.VY.displayName},68439:(e,t,a)=>{"use strict";a.d(t,{default:()=>j});var s=a(73365),n=a(1521),r=a(62310),o=a(18159),c=a(35049),l=a(46465),i=a(46583),d=a(93263),u=a(29348),p=a(18496),m=a(95767),f=a(99345),h=a(94617);let x=(0,m.SL)(p.Sx);function j(){var e,t;let{toast:a}=(0,l.dj)(),{token:p,selectedEnv:m,environments:j}=(0,f.O)(),[v,y]=(0,n.useState)(null),[w,g]=(0,n.useState)(),[N,b]=(0,n.useState)(),{connected:C}=(0,r.vT)(),k=j.find(e=>e.id===m),E=null==k?void 0:k.providerId,{provider:S}=(0,r.u9)(E),A=null==w||null==(e=w.spec.versions.find(e=>e.name===N))?void 0:e.schema.openAPIV3Schema,R=async e=>{if(w&&p&&S&&e.formData)try{await (0,i.Zg)(S,p,w,e.formData),a({title:"Success",description:"Resource created successfully."})}catch(e){a({title:"Error",description:"Failed to create resource",variant:"destructive"})}},T=(0,n.useCallback)(async()=>{if(S&&p&&m)try{let e=await (0,i.wu)(S,p);y(e)}catch(e){a({title:"Error",description:"Failed to fetch XRD resources.",variant:"destructive"})}},[S,p,m,a]);return((0,n.useEffect)(()=>{T()},[T]),C)?(0,s.jsx)("div",{className:"max-w-[1400px] w-full",children:(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{children:"Create resource"})}),(0,s.jsxs)(o.Wu,{className:"grid sm:grid-cols-1 gap-5 xl:grid-cols-3",children:[(0,s.jsx)(h.r,{}),v&&v.length>0&&(0,s.jsxs)(c.l6,{value:null!=(t=null==w?void 0:w.metadata.name)?t:"",onValueChange:e=>{g(null==v?void 0:v.find(t=>t.metadata.name===e)),b(void 0)},children:[(0,s.jsx)(c.bq,{className:"w-full",children:(0,s.jsx)(c.yv,{placeholder:"Select XRD"})}),(0,s.jsx)(c.gC,{children:v.filter(e=>!!e.metadata.name).map(e=>(0,s.jsx)(c.eb,{value:e.metadata.name,children:e.metadata.name},e.metadata.uid))})]}),w&&(0,s.jsxs)(c.l6,{value:null!=N?N:"",onValueChange:b,children:[(0,s.jsx)(c.bq,{className:"w-full",children:(0,s.jsx)(c.yv,{placeholder:"Select version"})}),(0,s.jsx)(c.gC,{children:w.spec.versions.map(e=>(0,s.jsx)(c.eb,{value:e.name,children:e.name},e.name))})]}),A&&(0,s.jsx)(x,{className:"flex flex-col gap-5 sm:col-span-1 xl:col-span-2",schema:A,validator:u.Ay,uiSchema:{spec:{"ui:options":{label:!1}}},onSubmit:R})]})]})}):(0,s.jsx)(d.U,{entitiesName:"resources"})}},75011:(e,t,a)=>{"use strict";a.d(t,{EnvironmentProvider:()=>p,useEnvironment:()=>m});var s=a(73365),n=a(1521),r=a(14130),o=a(47629),c=a(43155),l=a(58005);function i(e){let{open:t,onSave:a}=e,[r,i]=(0,n.useState)("");return(0,s.jsx)(o.lG,{open:t,children:(0,s.jsxs)(o.Cf,{className:"[&>button]:hidden",children:[(0,s.jsx)(o.c7,{children:(0,s.jsx)(o.L3,{children:"Set Kubernetes Token"})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Paste your Kubernetes Bearer token to access cluster resources."}),(0,s.jsx)(c.p,{type:"text",placeholder:"Enter Bearer token...",value:r,onChange:e=>i(e.target.value)}),(0,s.jsx)(o.Es,{children:(0,s.jsx)(l.$,{onClick:()=>{r.trim()&&a(r.trim())},children:"Save"})})]})})}var d=a(62310);let u=(0,n.createContext)(null),p=e=>{let{children:t}=e,[a,o]=(0,n.useState)(),[c,l]=(0,n.useState)(),[p,m]=(0,n.useState)(!1),{environments:f,isLoading:h}=(0,d.sw)();return n.useEffect(()=>{if(!a)return;let e=sessionStorage.getItem("".concat(r.O3,"_").concat(a));e?(l(e),m(!1)):(l(void 0),m(!0))},[a]),(0,s.jsxs)(u.Provider,{value:{token:c,selectedEnv:a,setSelectedEnv:o,environments:f,isLoading:h},children:[t,(0,s.jsx)(i,{open:p,onSave:e=>{a&&e&&(sessionStorage.setItem("".concat(r.O3,"_").concat(a),e),l(e),m(!1))}})]})},m=()=>{let e=(0,n.useContext)(u);if(!e)throw Error("useEnvironment must be used within EnvironmentProvider");return e}},93263:(e,t,a)=>{"use strict";a.d(t,{U:()=>c});var s=a(73365),n=a(25645),r=a(58005),o=a(62310);let c=e=>{let{entitiesName:t}=e,{setVisible:a}=(0,o.oS)();return(0,s.jsxs)("div",{className:"flex justify-center flex-col gap-3 items-center h-full",children:[(0,s.jsxs)("div",{className:"text-xl font-bold",children:["No ",t," yet."]}),(0,s.jsx)("p",{children:"If you are expecting to see some, you may need to sign-in or connect a wallet"}),(0,s.jsxs)(r.$,{variant:"outline",className:"mt-5",onClick:()=>{a(!0)},children:[(0,s.jsx)(n.A,{})," Connect Wallet"]})]})}},94617:(e,t,a)=>{"use strict";a.d(t,{r:()=>o});var s=a(73365),n=a(35049),r=a(99345);let o=()=>{let{selectedEnv:e,setSelectedEnv:t,environments:a}=(0,r.O)();return(0,s.jsxs)(n.l6,{value:null!=e?e:"",onValueChange:t,children:[(0,s.jsx)(n.bq,{children:(0,s.jsx)(n.yv,{placeholder:"Select environment"})}),(0,s.jsx)(n.gC,{children:a.length>0?a.map(e=>{var t;return(0,s.jsx)(n.eb,{value:e.id,children:null!=(t=e.name)?t:e.id},e.id)}):(0,s.jsx)("span",{className:"text-xs pl-2",children:"environments not found"})})]})}},99345:(e,t,a)=>{"use strict";a.d(t,{O:()=>s.useEnvironment});var s=a(75011)}},e=>{var t=t=>e(e.s=t);e.O(0,[83,373,965,355,964,82,58,956,689,696,598,698,560,222,704,151,347,870,358],()=>t(45762)),_N_E=e.O()}]);
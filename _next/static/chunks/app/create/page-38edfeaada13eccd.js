(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{35049:(e,a,s)=>{"use strict";s.d(a,{bq:()=>u,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>m});var t=s(73365),l=s(1521),r=s(78548),i=s(62446),d=s(77811),n=s(41e3),o=s(14130);let c=r.bL;r.YJ;let m=r.WT,u=l.forwardRef((e,a)=>{let{className:s,children:l,...d}=e;return(0,t.jsxs)(r.l9,{ref:a,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...d,children:[l,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.l9.displayName;let p=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})});p.displayName=r.PP.displayName;let f=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=r.wn.displayName;let h=l.forwardRef((e,a)=>{let{className:s,children:l,position:i="popper",...d}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...d,children:[(0,t.jsx)(p,{}),(0,t.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(f,{})]})})});h.displayName=r.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.JU,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s),...l})}).displayName=r.JU.displayName;let x=l.forwardRef((e,a)=>{let{className:s,children:l,...i}=e;return(0,t.jsxs)(r.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsx)(r.p4,{children:l})]})});x.displayName=r.q7.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=r.wv.displayName},45762:(e,a,s)=>{Promise.resolve().then(s.bind(s,68439)),Promise.resolve().then(s.bind(s,25903)),Promise.resolve().then(s.bind(s,55110)),Promise.resolve().then(s.bind(s,75011))},68439:(e,a,s)=>{"use strict";s.d(a,{default:()=>j});var t=s(73365),l=s(1521),r=s(94868),i=s(18159),d=s(35049),n=s(46465),o=s(46583),c=s(93263),m=s(29348),u=s(18496),p=s(95767),f=s(99345),h=s(94617);let x=(0,p.SL)(u.Sx);function j(){var e,a;let{toast:s}=(0,n.dj)(),{token:u,selectedEnv:p,environments:j}=(0,f.O)(),[v,w]=(0,l.useState)(null),[y,N]=(0,l.useState)(),[b,g]=(0,l.useState)(),{connected:C}=(0,r.vT)(),R=j.find(e=>e.id===p),S=null==R?void 0:R.providerId,{provider:P}=(0,r.u9)(S),k=null==y||null==(e=y.spec.versions.find(e=>e.name===b))?void 0:e.schema.openAPIV3Schema,A=async e=>{if(y&&u&&P&&e.formData)try{await (0,o.Zg)(P,u,y,e.formData),s({title:"Success",description:"Resource created successfully."})}catch(e){s({title:"Error",description:"Failed to create resource",variant:"destructive"})}},E=(0,l.useCallback)(async()=>{if(P&&u&&p)try{let e=await (0,o.wu)(P,u);w(e)}catch(e){s({title:"Error",description:"Failed to fetch XRD resources.",variant:"destructive"})}},[P,u,p,s]);return((0,l.useEffect)(()=>{E()},[E]),C)?(0,t.jsx)("div",{className:"max-w-[1400px] w-full",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Create resource"})}),(0,t.jsxs)(i.Wu,{className:"grid sm:grid-cols-1 gap-5 xl:grid-cols-3",children:[(0,t.jsx)(h.r,{}),v&&v.length>0&&(0,t.jsxs)(d.l6,{value:null!=(a=null==y?void 0:y.metadata.name)?a:"",onValueChange:e=>{N(null==v?void 0:v.find(a=>a.metadata.name===e)),g(void 0)},children:[(0,t.jsx)(d.bq,{className:"w-full",children:(0,t.jsx)(d.yv,{placeholder:"Select XRD"})}),(0,t.jsx)(d.gC,{children:v.filter(e=>!!e.metadata.name).map(e=>(0,t.jsx)(d.eb,{value:e.metadata.name,children:e.metadata.name},e.metadata.uid))})]}),y&&(0,t.jsxs)(d.l6,{value:null!=b?b:"",onValueChange:g,children:[(0,t.jsx)(d.bq,{className:"w-full",children:(0,t.jsx)(d.yv,{placeholder:"Select version"})}),(0,t.jsx)(d.gC,{children:y.spec.versions.map(e=>(0,t.jsx)(d.eb,{value:e.name,children:e.name},e.name))})]}),k&&(0,t.jsx)(x,{className:"flex flex-col gap-5 sm:col-span-1 xl:col-span-2",schema:k,validator:m.Ay,uiSchema:{spec:{"ui:options":{label:!1}}},onSubmit:A})]})]})}):(0,t.jsx)(c.U,{entitiesName:"resources"})}}},e=>{var a=a=>e(e.s=a);e.O(0,[83,373,965,355,964,82,58,956,689,696,598,698,560,494,703,151,431,347,870,358],()=>a(45762)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[933],{18159:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>l});var s=a(73365),n=a(1521),r=a(14130);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight",a),...n})});c.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})}).displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},21468:(e,t,a)=>{Promise.resolve().then(a.bind(a,30141)),Promise.resolve().then(a.bind(a,25903)),Promise.resolve().then(a.bind(a,55110)),Promise.resolve().then(a.bind(a,75011))},30141:(e,t,a)=>{"use strict";a.d(t,{default:()=>H});var s=a(73365),n=a(46583),r=a(65521),i=a(42258),l=a(85515),c=a(58005),o=a(31198),d=a(59534),u=a.n(d);function m(e){let{row:t,actions:a}=e;if(a)return(0,s.jsxs)(o.rI,{children:[(0,s.jsx)(o.ty,{asChild:!0,children:(0,s.jsxs)(c.$,{onClick:e=>e.stopPropagation(),variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,s.jsx)(o.SQ,{align:"end",className:"w-[160px]",children:a.map((e,a)=>(0,s.jsx)(o._2,{onClick:a=>{var s;a.stopPropagation(),null==(s=e.onClick)||s.call(e,t.original)},className:"cursor-pointer",children:e.path?(0,s.jsx)(u(),{className:"w-full",onClick:a=>{var s;a.stopPropagation(),null==(s=e.onClick)||s.call(e,t.original)},href:e.path(t.original),children:e.label}):(0,s.jsxs)(s.Fragment,{children:[e.label,e.shortcut&&(0,s.jsx)(o.V0,{children:e.shortcut})]})},a))})]})}let p=e=>[{accessorKey:"name",header:e=>{let{column:t}=e;return(0,s.jsx)(i.w,{column:t,title:"Name"})},cell:e=>{let{row:t}=e;return t.original.name}},{accessorKey:"environment",header:e=>{let{column:t}=e;return(0,s.jsx)(i.w,{column:t,title:"Environment"})},cell:e=>{let{row:t}=e;return t.original.environment}},{id:"actions",cell:t=>{let{row:a}=t;return(0,s.jsx)(m,{row:a,actions:e})}}];var x=a(62310),h=a(23060),f=a(1521),j=a(46465),y=a(14130),v=a(47629),N=a(43155),g=a(93149),w=a(58491),b=a(61836),k=a(20544),C=a(25092);let E=(0,a(82934).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=f.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(C.b,{ref:t,className:(0,y.cn)(E(),a),...n})});S.displayName=C.b.displayName;let F=f.createContext({}),R=e=>{let{...t}=e;return(0,s.jsx)(F.Provider,{value:{name:t.name},children:(0,s.jsx)(g.xI,{...t})})},A=()=>{let e=f.useContext(F),t=f.useContext(O),{getFieldState:a,formState:s}=(0,g.xW)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=t;return{id:r,name:e.name,formItemId:"".concat(r,"-form-item"),formDescriptionId:"".concat(r,"-form-item-description"),formMessageId:"".concat(r,"-form-item-message"),...n}},O=f.createContext({}),K=f.forwardRef((e,t)=>{let{className:a,...n}=e,r=f.useId();return(0,s.jsx)(O.Provider,{value:{id:r},children:(0,s.jsx)("div",{ref:t,className:(0,y.cn)("space-y-2",a),...n})})});K.displayName="FormItem";let V=f.forwardRef((e,t)=>{let{className:a,...n}=e,{error:r,formItemId:i}=A();return(0,s.jsx)(S,{ref:t,className:(0,y.cn)(r&&"text-destructive",a),htmlFor:i,...n})});V.displayName="FormLabel";let T=f.forwardRef((e,t)=>{let{...a}=e,{error:n,formItemId:r,formDescriptionId:i,formMessageId:l}=A();return(0,s.jsx)(k.DX,{ref:t,id:r,"aria-describedby":n?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!n,...a})});T.displayName="FormControl",f.forwardRef((e,t)=>{let{className:a,...n}=e,{formDescriptionId:r}=A();return(0,s.jsx)("p",{ref:t,id:r,className:(0,y.cn)("text-[0.8rem] text-muted-foreground",a),...n})}).displayName="FormDescription";let I=f.forwardRef((e,t)=>{let{className:a,children:n,...r}=e,{error:i,formMessageId:l}=A(),c=i?String(null==i?void 0:i.message):n;return c?(0,s.jsx)("p",{ref:t,id:l,className:(0,y.cn)("text-[0.8rem] font-medium text-destructive",a),...r,children:c}):null});I.displayName="FormMessage";var P=a(21201);let z=w.Ik({namespace:w.Yj().min(1,"Namespace is required"),keyName:w.Yj().min(1,"Key Name is required"),entries:w.YO(w.Ik({key:w.Yj().min(1,"Key is required"),value:w.Yj().min(1,"Value is required")}))});function B(e){let{open:t,onClose:a,onSubmit:n,isLoading:r}=e,i=(0,g.mN)({resolver:(0,b.u)(z),defaultValues:{namespace:"",keyName:"",entries:[]}}),l=async e=>{await n(e),i.reset()},o=e=>{let t=[...i.getValues("entries")];t.splice(e,1),i.setValue("entries",t)};return(0,s.jsx)(v.lG,{open:t,onOpenChange:a,children:(0,s.jsxs)(v.Cf,{children:[(0,s.jsx)(v.c7,{children:(0,s.jsx)(v.L3,{children:"Add Key Ring"})}),(0,s.jsx)(g.Op,{...i,children:(0,s.jsxs)("form",{onSubmit:i.handleSubmit(l),className:"space-y-4",children:[(0,s.jsx)(R,{control:i.control,name:"namespace",render:e=>{let{field:t}=e;return(0,s.jsxs)(K,{children:[(0,s.jsx)(V,{children:"Namespace"}),(0,s.jsx)(T,{children:(0,s.jsx)(N.p,{placeholder:"Namespace",...t})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(R,{control:i.control,name:"keyName",render:e=>{let{field:t}=e;return(0,s.jsxs)(K,{children:[(0,s.jsx)(V,{children:"Key Name"}),(0,s.jsx)(T,{children:(0,s.jsx)(N.p,{placeholder:"Key Name",...t})}),(0,s.jsx)(I,{})]})}}),i.watch("entries").map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,s.jsx)(R,{control:i.control,name:"entries.".concat(t,".key"),render:e=>{let{field:t}=e;return(0,s.jsxs)(K,{children:[(0,s.jsx)(T,{children:(0,s.jsx)(N.p,{placeholder:"Key",...t})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(R,{control:i.control,name:"entries.".concat(t,".value"),render:e=>{let{field:t}=e;return(0,s.jsxs)(K,{children:[(0,s.jsx)(T,{children:(0,s.jsx)(N.p,{placeholder:"Value",...t})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(c.$,{type:"button",variant:"destructive",className:"mb-auto",onClick:()=>o(t),children:(0,s.jsx)(P.A,{className:"h-4 w-4"})})]},t)),(0,s.jsxs)(c.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{i.setValue("entries",[...i.getValues("entries"),{key:"",value:""}])},className:"w-full",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Add Entry"]}),(0,s.jsx)(v.Es,{children:(0,s.jsx)(c.$,{type:"submit",disabled:r,className:"w-full",children:r?"Creating...":"Create"})})]})})]})})}var D=a(18159);let L=w.Ik({entries:w.YO(w.Ik({key:w.Yj().min(1,"Key is required"),value:w.Yj().min(1,"Value is required")}))});function Y(e){var t,a;let{open:n,onClose:r,onSubmit:i,initialData:l,isLoading:o}=e,d=(0,g.mN)({resolver:(0,b.u)(L),defaultValues:{entries:null!=(t=l.entries)?t:[]}}),u=async e=>{let t={};e.entries.forEach(e=>{let{key:a,value:s}=e;t[a]=s}),await i(t),d.reset({entries:e.entries})},m=null!=(a=d.watch("entries"))?a:[],p=e=>{let t=[...m];t.splice(e,1),d.setValue("entries",t)};return n?(0,s.jsxs)(D.Zp,{className:"max-w-3xl mx-auto mt-8",children:[(0,s.jsx)(D.aR,{children:(0,s.jsx)(D.ZB,{children:"Edit Key"})}),(0,s.jsx)(D.Wu,{children:(0,s.jsx)(g.Op,{...d,children:(0,s.jsxs)("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[m.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,s.jsx)(R,{control:d.control,name:"entries.".concat(t,".key"),render:e=>{let{field:t}=e;return(0,s.jsxs)(K,{className:"flex-1",children:[(0,s.jsx)(T,{children:(0,s.jsx)(N.p,{placeholder:"Key",...t})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(R,{control:d.control,name:"entries.".concat(t,".value"),render:e=>{let{field:t}=e;return(0,s.jsxs)(K,{className:"flex-1",children:[(0,s.jsx)(T,{children:(0,s.jsx)(N.p,{placeholder:"Value",...t})}),(0,s.jsx)(I,{})]})}}),(0,s.jsx)(c.$,{type:"button",variant:"destructive",className:"mb-auto",onClick:()=>p(t),children:(0,s.jsx)(P.A,{className:"h-4 w-4"})})]},t)),(0,s.jsxs)(c.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{d.setValue("entries",[...m,{key:"",value:""}])},children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Add Entry"]}),(0,s.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,s.jsx)(c.$,{type:"button",variant:"secondary",onClick:r,children:"Cancel"}),(0,s.jsx)(c.$,{type:"submit",disabled:o||!d.formState.isDirty,children:o?"Saving...":"Save"})]})]})})})]}):null}var $=a(93263),q=a(99345),_=a(94617);function H(){let[e,t]=(0,f.useState)(!1),{connected:a}=(0,x.vT)(),{toast:i}=(0,j.dj)(),{token:l,selectedEnv:o,environments:d}=(0,q.O)(),[u,m]=(0,f.useState)(),v=d.find(e=>e.id==o),N=null==v?void 0:v.providerId,{provider:g}=(0,x.u9)(N),{keyRings:w,fetchKeyRings:b,isLoading:k}=function(e,t,a){let[s,r]=(0,f.useState)([]),[i,l]=(0,f.useState)(!1),{toast:c}=(0,j.dj)(),o=(0,f.useCallback)(async()=>{if(e&&t&&a){l(!0);try{let s=(await (0,n.TH)(e,t,y.ah)).filter(e=>{var t,a;return!!(null==(t=e.metadata)?void 0:t.name)&&!!(null==(a=e.metadata)?void 0:a.namespace)}).map(e=>({name:e.metadata.name,environment:a,namespace:e.metadata.namespace,data:e.data}));r(s),sessionStorage.setItem(y.O3,t)}catch(e){c({title:"Error",description:"Failed to fetch keys.",variant:"destructive"})}finally{l(!1)}}},[e,t,a,c]);return{keyRings:s,isLoading:i,fetchKeyRings:o}}(g,l,null==v?void 0:v.name);(0,f.useEffect)(()=>{g&&l&&b()},[g,l,o,d]);let C=async e=>{if(o&&g&&l)try{let a=Object.fromEntries(e.entries.map(e=>{let{key:t,value:a}=e;return[t,a]}));await (0,n.cF)(g,l,e.namespace,e.keyName,a,y.FN),i({title:"Success",description:"Key Ring created successfully."}),t(!1),await b()}catch(e){i({title:"Error",description:"Failed to create Key Ring.",variant:"destructive"})}finally{}},E=async e=>{if(g&&l&&u)try{await (0,n.Hy)(g,l,u,e),i({title:"Success",description:"Key updated successfully."}),await b(),m(void 0)}catch(e){i({title:"Error",description:"Failed to update key.",variant:"destructive"})}finally{}},S=async e=>{if(g&&l)try{await (0,n.yE)(g,l,e.namespace,e.name),i({title:"Success",description:'Key Ring "'.concat(e.name,'" deleted successfully.')}),await b()}catch(e){i({title:"Error",description:"Failed to delete Key Ring.",variant:"destructive"})}};return a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"max-w-[1400px] w-full",children:u?(0,s.jsx)(Y,{open:!0,onClose:()=>m(void 0),initialData:{entries:u.data?Object.entries(u.data).map(e=>{let[t,a]=e;return{key:t,value:atob(a)}}):[]},onSubmit:E,isLoading:k}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-end gap-2 mb-10",children:[(0,s.jsxs)("div",{className:"mr-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight mb-2",children:"Key Rings"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Here's a list of available Key Rings!"})]}),(0,s.jsx)("div",{className:"w-[200px]",children:(0,s.jsx)(_.r,{})}),o&&(0,s.jsxs)(c.$,{className:"mt-5",onClick:()=>t(!0),children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Add"]})]}),(0,s.jsx)(r.b,{columns:p([{label:"Delete",onClick:S}]),data:w,isLoading:k,onRowClick:e=>m(e)})]})}),(0,s.jsx)(B,{open:e,onClose:()=>t(!1),onSubmit:C,isLoading:k})]}):(0,s.jsx)($.U,{entitiesName:"resources"})}},46583:(e,t,a)=>{"use strict";async function s(e,t){let a=await fetch("https://".concat(e.ip,":").concat(e.port,"/apis/apiextensions.crossplane.io/v1/compositeresourcedefinitions"),{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!a.ok)throw Error("Failed to fetch XRDs");return(await a.json()).items}async function n(e,t){let a=[];for(let r of(await s(e,t))){var n;let s=r.spec.names.kind,i=r.spec.names.plural,l=r.spec.group,c=null==(n=r.spec.versions[0])?void 0:n.name;if(!c)continue;let o=await fetch("https://".concat(e.ip,":").concat(e.port,"/apis/").concat(l,"/").concat(c,"/").concat(i),{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!o.ok)continue;let d=(await o.json()).items.map(e=>{var t;return null==(t=e.metadata)?void 0:t.name}).filter(e=>!!e).map(e=>({kind:s,group:l,version:c,plural:i,resource:e}));a.push(...d)}return a}async function r(e,t,a,s){var n,r,i;let l=a.spec.group,c=a.spec.versions[0].name,o=a.spec.names.kind,d=a.spec.names.plural,u=null!=(i=null==s||null==(n=s.metadata)?void 0:n.name)?i:null==s||null==(r=s.spec)?void 0:r.name;if(!u)throw Error("Resource name is required");let m={...(null==s?void 0:s.metadata)||{},name:u},p={apiVersion:"".concat(l,"/").concat(c),kind:o,metadata:m,...s},x=await fetch("https://".concat(e.ip,":").concat(e.port,"/apis/").concat(l,"/").concat(c,"/").concat(d),{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)});if(!x.ok)throw Error(await x.text())}async function i(e,t,a){let s="https://".concat(e.ip,":").concat(e.port,"/api/v1/secrets?labelSelector=").concat(a),n=await fetch(s,{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!n.ok)throw Error("Failed to fetch keys: ".concat(n.status," ").concat(n.statusText));return(await n.json()).items}async function l(e,t,a,s,n,r){let i="https://".concat(e.ip,":").concat(e.port,"/api/v1/namespaces/").concat(a,"/secrets"),l={apiVersion:"v1",kind:"Secret",metadata:{name:s,namespace:a,labels:{...r}},type:"Opaque",data:Object.entries(n).reduce((e,t)=>{let[a,s]=t;return e[a]=btoa(s),e},{})},c=await fetch(i,{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok){let e=await c.text();throw Error("Failed to create key: ".concat(c.status," ").concat(c.statusText,", ").concat(e))}}async function c(e,t,a,s){let n="https://".concat(e.ip,":").concat(e.port,"/api/v1/namespaces/").concat(a,"/secrets/").concat(s),r=await fetch(n,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!r.ok){let e=await r.text();throw Error("Failed to delete key: ".concat(r.status," ").concat(r.statusText,", ").concat(e))}}async function o(e,t,a,s){let n="https://".concat(e.ip,":").concat(e.port,"/api/v1/namespaces/").concat(a.namespace,"/secrets/").concat(a.name),r=await fetch(n,{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(!r.ok){let e=await r.text();throw Error("Failed to fetch key: ".concat(r.status," ").concat(r.statusText,", ").concat(e))}let i=await r.json(),l=Object.entries(s).reduce((e,t)=>{let[a,s]=t;return e[a]=btoa(s),e},{}),c={...i,data:l},o=await fetch(n,{method:"PUT",headers:{Authorization:"Bearer ".concat(t),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)});if(!o.ok){let e=await o.text();throw Error("Failed to update key: ".concat(o.status," ").concat(o.statusText,", ").concat(e))}}a.d(t,{Hy:()=>o,TH:()=>i,U2:()=>n,Zg:()=>r,cF:()=>l,wu:()=>s,yE:()=>c})},47629:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>p,L3:()=>x,c7:()=>m,lG:()=>c});var s=a(73365),n=a(1521),r=a(89752),i=a(72196),l=a(14130);let c=r.bL;r.l9;let o=r.ZL;r.bm;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});d.displayName=r.hJ.displayName;let u=n.forwardRef((e,t)=>{let{className:a,children:n,...c}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(r.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[n,(0,s.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});x.displayName=r.hE.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})}).displayName=r.VY.displayName},75011:(e,t,a)=>{"use strict";a.d(t,{EnvironmentProvider:()=>m,useEnvironment:()=>p});var s=a(73365),n=a(1521),r=a(14130),i=a(47629),l=a(43155),c=a(58005);function o(e){let{open:t,onSave:a}=e,[r,o]=(0,n.useState)("");return(0,s.jsx)(i.lG,{open:t,children:(0,s.jsxs)(i.Cf,{className:"[&>button]:hidden",children:[(0,s.jsx)(i.c7,{children:(0,s.jsx)(i.L3,{children:"Set Kubernetes Token"})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Paste your Kubernetes Bearer token to access cluster resources."}),(0,s.jsx)(l.p,{type:"text",placeholder:"Enter Bearer token...",value:r,onChange:e=>o(e.target.value)}),(0,s.jsx)(i.Es,{children:(0,s.jsx)(c.$,{onClick:()=>{r.trim()&&a(r.trim())},children:"Save"})})]})})}var d=a(62310);let u=(0,n.createContext)(null),m=e=>{let{children:t}=e,[a,i]=(0,n.useState)(),[l,c]=(0,n.useState)(),[m,p]=(0,n.useState)(!1),{environments:x,isLoading:h}=(0,d.sw)();return n.useEffect(()=>{if(!a)return;let e=sessionStorage.getItem("".concat(r.O3,"_").concat(a));e?(c(e),p(!1)):(c(void 0),p(!0))},[a]),(0,s.jsxs)(u.Provider,{value:{token:l,selectedEnv:a,setSelectedEnv:i,environments:x,isLoading:h},children:[t,(0,s.jsx)(o,{open:m,onSave:e=>{a&&e&&(sessionStorage.setItem("".concat(r.O3,"_").concat(a),e),c(e),p(!1))}})]})},p=()=>{let e=(0,n.useContext)(u);if(!e)throw Error("useEnvironment must be used within EnvironmentProvider");return e}},94617:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var s=a(73365),n=a(35049),r=a(99345);let i=()=>{let{selectedEnv:e,setSelectedEnv:t,environments:a}=(0,r.O)();return(0,s.jsxs)(n.l6,{value:null!=e?e:"",onValueChange:t,children:[(0,s.jsx)(n.bq,{children:(0,s.jsx)(n.yv,{placeholder:"Select environment"})}),(0,s.jsx)(n.gC,{children:a.length>0?a.map(e=>{var t;return(0,s.jsx)(n.eb,{value:e.id,children:null!=(t=e.name)?t:e.id},e.id)}):(0,s.jsx)("span",{className:"text-xs pl-2",children:"environments not found"})})]})}},99345:(e,t,a)=>{"use strict";a.d(t,{O:()=>s.useEnvironment});var s=a(75011)}},e=>{var t=t=>e(e.s=t);e.O(0,[83,373,965,355,964,82,58,956,689,696,598,560,222,414,304,151,62,347,870,358],()=>t(21468)),_N_E=e.O()}]);